<!doctype html>
<html lang="en">

<head>






<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.21.1"/>
<link rel="icon" href="https://monkeypatch.io/kaval/favicon.ico">


<meta name="robots" content="index, follow">



<title>Kaval Coroutine</title>


<meta name="description" content="Kaval is a validation DSL for your POJO.">





<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://monkeypatch.io/kaval/Default/878a6be4/assets/css/kaval.css"  />
<link rel="stylesheet" type="text/css" href="https://monkeypatch.io/kaval/ajax/libs/prism/1.17.1/themes/prism-tomorrow.min.css"  />
<!-- end:inject styles -->



<script>
    window.site = {"orchidVersion":"0.21.1","baseUrl":"https://monkeypatch.io/kaval","environment":"prod","version":"0.6.0-SNAPSHOT"};
</script>


    <!-- start:inject meta-components [head] -->
    

        
            
        

        
            
        
    
    <!-- end:inject meta-components [head] -->



    <!-- start:inject meta-components [head] -->
    

        
            
        

        
            
        
    
    <!-- end:inject meta-components [head] -->









<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />

</head>

<body>
<header>

  <div class="logo">
    <a href="/">
      <figure class="image">
        <img src="https://monkeypatch.io/kaval/assets/logo/kaval.svg" alt="Kaval logo">
        <figcaption>Kaval</figcaption>
      </figure>
    </a>
  </div>

  <nav class="menu">
  
    <div class="separator">
      
        Getting Started
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/samples">
          
            <i class="fas fa-code"></i>
          
          Samples
        </a>
      
    </div>
  
    <div class="separator">
      
        Modules
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/kaval-core">
          
            <i class="fas fa-atom"></i>
          
          Kaval Core
        </a>
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/kaval-arrow">
          
            <i class="fas fa-location-arrow"></i>
          
          Kaval Arrow
        </a>
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/kaval-coroutine">
          
            <i class="fas fa-random"></i>
          
          Kaval Coroutine
        </a>
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/kaval-kotest">
          
            <i class="fas fa-vial"></i>
          
          Kaval Kotest
        </a>
      
    </div>
  
    <div class="separator">
      
        Open Source
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/license">
          
            <i class="fas fa-file-contract"></i>
          
          License
        </a>
      
    </div>
  
    <div class="page">
      
        <a href="https://monkeypatch.io/kaval/changelog">
          
            <i class="fas fa-history"></i>
          
          Changelog
        </a>
      
    </div>
  
    <div class="link">
      
        <a href="https://github.com/MonkeyPatchIo/kaval">
          
            <i class="fab fa-github"></i>
          
          Github
        </a>
      
    </div>
  
  </nav>

  <div class="flex-spacer"></div>

  <div class="version">
    Last version <a href="https://monkeypatch.io/kaval/changelog">0.6.0-SNAPSHOT</a>
  </div>

</header>

<main>
    <div class="content">
        
    <!-- start:inject components -->
    
        
            
                
                    
                        <h1 id="kaval-coroutine"><a href="#kaval-coroutine" id="kaval-coroutine" class="anchor"></a>Kaval Coroutine</h1>
<p>Sometime, your want to write a custom function is <code>suspend</code>, you cannot use the standard <code>Validator&lt;T&gt;</code>.
This module introduces the <code>SuspendValidator&lt;T&gt;</code> validator for <em>red</em> functions.</p>
<p>Further reading: <a href="https://medium.com/@elizarov/how-do-you-color-your-functions-a6bb423d936d">How do you color your functions?</a></p>
<p>Note: see <a href="../kaval-core"><code>kaval-core</code></a> before using the <code>kaval-coroutine</code> module.</p>
<h2 id="provided-suspendvalidator"><a href="#provided-suspendvalidator" id="provided-suspendvalidator" class="anchor"></a>Provided SuspendValidator</h2>
<p>Into the package <code>io.monkeypatch.kaval.coroutine</code></p>
<ul>
<li><code>Validator&lt;T&gt;.toSuspend()</code>: transform a <code>Validator</code> to a <code>SuspendValidator</code></li>
<li><code>predicate(predicate: suspend (T) -&gt; Boolean, reason: (T) -&gt; String)</code>: build a validator based on a predicate.</li>
<li><code>nullOr(validator: suspend () -&gt; Validator&lt;T&gt;)</code>: valid if the element is null or if it's valid for the provided sub-validator.</li>
<li><code>field(fieldName: String, fieldExtractor: (H) -&gt; C, fieldValidator: suspend () -&gt; Validator&lt;C&gt;)</code>: validate a field of an element.</li>
<li><code>whenIsInstance(uValidator: suspend () -&gt; Validator&lt;U&gt;)</code>: allow validation of the element when it's a specific instance.</li>
</ul>
<h2 id="combining-suspendvalidator"><a href="#combining-suspendvalidator" id="combining-suspendvalidator" class="anchor"></a>Combining SuspendValidator</h2>
<p>You can combine validators with:</p>
<ul>
<li><code>suspendValidator and classicValidator</code>: just run both validators, and aggregate results</li>
<li><code>suspendValidator and suspendValidator</code>: run both validators (could be in parallel), and aggregate results</li>
<li><code>suspendValidator andThen classicValidator</code>: run first validator, and if in success, run the second validator</li>
<li><code>suspendValidator andThen suspendValidator</code>: run first validator, and if in success, run the second validator</li>
<li><code>suspendValidator or classicValidator</code>: run both validators, only one success is require to be successful</li>
<li><code>suspendValidator or suspendValidator</code>: run both validators (could be in parallel), only one success is require to be successful</li>
</ul>
<h2 id="extensions"><a href="#extensions" id="extensions" class="anchor"></a>Extensions</h2>
<ul>
<li><code>suspend fun &lt;T&gt; T.isValid(validator: SuspendValidator&lt;T&gt;): Boolean</code>: check if a POJO is valid</li>
<li><code>suspend fun &lt;T&gt; T.isValidOrThrow(validator: SuspendValidator&lt;T&gt;): Boolean</code>: check if a POJO is valid, otherwise throw an <code>InvalidException</code></li>
</ul>

                    
                
            
        
    
    <!-- end:inject components -->


    </div>
</main>
<footer>

  <div class="orchid">
    Build with <a href="https://orchid.run"><img alt="Orchid" src="https://monkeypatch.io/kaval/assets/logo/orchid.svg"></a>
  </div>
  <div class="flex-spacer"></div>
  <div class="love">We ❤️ Chocolatines</div>

</footer>

<!-- start:inject scripts -->
<script data-selector="pre code[class='language-run-kotlin']" src="https://monkeypatch.io/kaval/kotlin-playground@1"></script>
<script  src="https://monkeypatch.io/kaval/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script  src="https://monkeypatch.io/kaval/ajax/libs/prism/1.17.1/components/prism-clike.min.js"></script>
<script  src="https://monkeypatch.io/kaval/ajax/libs/prism/1.17.1/components/prism-kotlin.min.js"></script>
<!-- end:inject scripts -->



</body>

</html>
